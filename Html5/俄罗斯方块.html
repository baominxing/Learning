<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta charset="UTF-8" />
    <style>
        body {
            padding: 0;
            margin: 0;
        }

        canvas {
            display: block;
            margin: 200px auto;
        }
    </style>
</head>

<body>
    <canvas id="canvas" width="400" height="800" style="border-style:solid;border-width: 1px;"></canvas>
</body>

<script type="text/javascript">

    /*移动块*/
    var x = 10;
    var y = 0;
    var w = 50;
    var h = 50;
    init();

    function init() {
        let canvas = document.querySelector("#canvas");
        let ctx = canvas.getContext("2d");
        
        // ctx.strokeStyle = "#FF0000";
        // ctx.strokeRect(x, y, w, h);
        // y = y + 10;
        // ctx.strokeStyle = "#FF0000";
        // ctx.strokeRect(x, y, w, h);
        
        draw(ctx);
    }

    function draw(ctx) {
        requestAnimationFrame(function step() {
            moveShape2(ctx); //移动块
            requestAnimationFrame(step);
        });
    }

    function moveShape(ctx) {
        if (y >= 790) {
            ctx.clearRect(x, y, w, h);
            y = 0;
            ctx.fillRect(x, y, w, h);
            return;
        }

        ctx.clearRect(x, y, w, h);
        y = y + 100;
        ctx.fillRect(x, y, w, h);
    }

    function moveShape2(ctx) {
        if (y >= 790) {
            ctx.strokeStyle = "#00000000";
            ctx.strokeRect(x, y, w, h);
            y = 0;
            ctx.strokeStyle = "#FF0000";
            ctx.strokeRect(x, y, w, h);
            return;
        }

        ctx.strokeStyle = "#00000000";
        ctx.strokeRect(x, y, w, h);
        y = y + 1;
        ctx.strokeStyle = "#00000000";
        ctx.strokeRect(x, y, w, h);
    }
</script>

</html>