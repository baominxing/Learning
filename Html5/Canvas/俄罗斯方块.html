<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta charset="UTF-8" />
    <style>
        body {
            padding: 0;
            margin: 0;
        }

        canvas {
            display: block;
            margin: 200px auto;
        }
    </style>
</head>

<body>
    <canvas id="canvas" width="1000" height="800" style="border-style:solid;border-width: 1px;"></canvas>
</body>


<script type="text/javascript">
    init();

    function init() {
        let canvas = document.querySelector("#canvas");
        let ctx = canvas.getContext("2d");
        draw(ctx);
    }

    function draw(ctx) {
        requestAnimationFrame(function step() {
            moveShape(ctx); //移动块
            requestAnimationFrame(step);
        });
    }

    /*移动块*/
    var x = 0;
    var y = 0;
    function moveShape(ctx) {
        if (y > 800) { return; }

        x = Math.floor(Math.random() * 800 + 1);
        y = y + 1;
        ctx.fillRect(x, y, 20, 20);
    }

</script>

</html>